// 替换所有 initMediaPipe() 的调用
async function checkCameraAccess() {
    const statusElement = document.getElementById('status');
    try {
        const stream = await navigator.mediaDevices.getUserMedia({ video: true });
        
        // 如果成功，将视频流显示到页面上（用于验证）
        const video = document.getElementById('video');
        video.srcObject = stream;
        video.style.opacity = 1; // 临时显示视频流
        video.style.width = '320px';
        video.style.height = '240px';
        statusElement.innerHTML = '✅ 摄像头访问成功！问题出在 MediaPipe 初始化或帧发送。';
        
    } catch (e) {
        statusElement.innerHTML = `❌ 摄像头访问失败。错误代码: ${e.name}`;
        console.error("Camera Access Error:", e);
    }
}
checkCameraAccess();
